<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Witchcraft: Frequently asked questions</title>

    <link rel="stylesheet" href="index.css">

    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
        ga('create', 'UA-101273659-1', 'auto');
        ga('send', 'pageview');
    </script>
</head>
<body>

<div class="container">
    <div class="header">
        <img class="title" src="title.png" alt="Witchcraft">
        <img class="witch" src="witch.svg" alt="">
    </div>

    <p class="menu">
        <a href="index.html">Home</a>
        -
        <a href="how-to-install.html">How to install</a>
    </p>

    <article>
        <h2>Frequently Asked Questions</h2>

        <p class="question">Q: Where should I put my Witchcraft scripts?</p>
        <p class="answer">A: You must put them in the same folder being served by Web Server Chrome app. Read full instructions <a
                href="how-to-install.html" target="_blank">here</a>.</p>

        <p class="question">Q: How to add jQuery to my scripts?</p>
        <p class="answer">A: Use the <span class="code">@include</span> directive as described in "Including other scripts" <a href="index.html#include-directive">here</a>. jQuery must be downloaded and added to your scripts folder so the directive can find it. However, if you allow me to give you a suggestion, stop using jQuery unless you really need to. Most things nowadays can be easily done in pure Javascript. jQuery did its part years ago to help and save Javascript, but now it's time for its well-deserved retirement.</p>

        <p class="question">Q: Why do I need to install Web Server Chrome app?</p>
        <p class="answer">A: Witchcraft will look for scripts in <span class="code">http://127.0.0.1:5743</span> (e.g., <span class="code">http://127.0.0.1:5743/github.com.js</span>). It doesn't have its own web server, that's why it depends on Web Server Chrome app. You don't need to use Web Server Chrome app if you don't want to, as long as you replace it with another local web server listening on port 5743 and serving static files from your Witchcraft scripts folder. For a comprehensive list of local server options, check this <a href="//gist.github.com/willurd/5720255" target="_blank">gist</a>.</p>

        <p class="question">Q: When exactly my script gets loaded?</p>
        <p class="answer">A: It's loaded at <a href="https://developer.chrome.com/extensions/content_scripts" target="_blank">document_start</a>. This is after any css files, but before any other DOM is constructed or any other script is run. If you need, you can wait for
            <a href="https://developer.mozilla.org/en-US/docs/Web/Events/DOMContentLoaded" target="_blank">DOMContentLoaded</a> or
            the <a href="https://developer.mozilla.org/en-US/docs/Web/Events/load" target="_blank">window load event</a>.</p>

        <p class="question">Q: My script seems to be loading multiple times. What is wrong?</p>
        <p class="answer">A: Your page probably has frames/iframes in it. By design, Witchcraft loads itself into every window it can find. If you want to run your script in only one of the windows, you need to add that condition to your script. For instance, you most likely only want to run your code in the topmost window. If that's your case, just check if <span class="code">window.self === window.top</span>. More details
            <a href="https://github.com/luciopaiva/witchcraft/issues/23">here</a>.</p>

        <p class="question">Q: How to load Witchcraft only in the topmost window?</p>
        <p class="answer">A: Check the question above.</p>

        <p class="question">Q: I'm unable to read custom properties from or change the window object in any way. What is wrong?</p>
        <p class="answer">A: Scripts can't directly access the window object. They share the DOM tree, but they live in
            <a href="https://www.youtube.com/watch?v=laLudeUmXHM">isolated worlds</a>. This is a restriction imposed by the Chrome extension API. You can, however,
            <a href="https://stackoverflow.com/q/12395722/778272" target="_blank">work around it</a> easily.</p>

        <p class="question">Q: How do I inject scripts into my localhost web server page?</p>
        <div class="answer">A: Just name your script <span class="code">localhost.js</span>/<span class="code">localhost.css</span>. If you're running multiple web servers and need to tell them apart, do it by checking the port inside your script (check the <span class="code">location.port</span> property). See an example
            <a href="https://github.com/luciopaiva/witchcraft/issues/18">here</a>.</div>

        <p class="question">Q: But couldn't Witchcraft spawn its own local web server?</p>
        <p class="answer">A: No. It is a Chrome <i>extension</i>. Chrome extensions don't have permission to access your file system. You need a Chrome <i>app</i> for that, but it turns out Chrome apps are no longer being supported by Google. This means you can't publish any new Chrome apps. However, existing Chrome apps (like the <i>Web Server Chrome app</i>) are still being supported, so it's ok to rely on them.</p>

        <p class="question">Q: Can I install Witchcraft from sources instead?</p>
        <p class="answer">A: Yes, you can install Witchcraft directly from sources instead of downloading it from the Chrome store. Look for the extension source under the folder `/chrome-extension` and manually load it as an unpacked extension. If you don't know how to load unpacked extensions in Chrome, just google it; it's very easy.</p>

        <p class="question">Q: Is Google Analytics being used? Why?</p>
        <p class="answer">A: Yes. It is being used to track actions performed inside the Witchcraft pop-up window (.e.g: "user clicked the report issue button") and to collect general statistics (e.g.: how many times was a JS include directive triggered). Code is carefully tailored to make sure no user-identifiable information is sent to GA. For instance, URLs being accessed and script names are not sent to GA in any way. People are encouraged to verify the code themselves and also load the extension right from the sources if they don't trust the Chrome Web Store package. The intent of Witchcraft is to be a free and helpful tool.</p>

        <p class="question">Q: How can I load other resources in my scripts, like images?</p>
        <p class="answer">A: There are three proposed ways to do it <a
                href="https://github.com/luciopaiva/witchcraft/issues/34#issuecomment-782858968">here</a>.</p>

    </article>

    <hr>

    <p class="footnote right">Made by <a href="//luciopaiva.com" target="_blank">Lucio Paiva</a> - July 2018</p>
    <p class="footnote left">View <a href="//github.com/luciopaiva/witchcraft" target="_blank">source</a> on GitHub</p>
</div>

<!-- github corner - https://github.com/tholman/github-corners -->
<a href="//github.com/luciopaiva/witchcraft" target="_blank" class="github-corner" aria-label="View source on Github">
    <svg width="80" height="80" viewBox="0 0 250 250" style="fill:var(--secondary-color-darker); color:var(--background-color); position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path>
    </svg>
</a>
<style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
<!-- github corner -->

</body>
</html>
